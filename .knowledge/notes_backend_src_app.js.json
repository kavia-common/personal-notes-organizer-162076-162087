{"is_source_file": true, "format": "JavaScript", "description": "Main application setup for an Express.js backend, including CORS configuration, route definitions, API documentation, and error handling.", "external_files": ["./config", "../swagger", "./routes", "./routes/auth", "./routes/notes"], "external_methods": ["getConfig", "swaggerUi.setup"], "published": ["app"], "classes": [], "methods": [{"name": "app.get('/openapi.json')", "description": "Serves dynamically generated OpenAPI specification JSON, adjusting server URL based on request."}, {"name": "app.use('/docs')", "description": "Serves Swagger UI documentation with dynamic server URL."}, {"name": "app.get('/')", "description": "Health check route, delegating to external routes."}, {"name": "app.use('/api')", "description": "Mounts main API routes (/auth, /notes)."}, {"name": "Error handling middleware", "description": "Provides centralized error handling for JSON errors, CORS, and server errors."}, {"name": "AnonymousFunction55f821590100(origin, callback)", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["require('cors')", "require('express')", "getConfig()", "require('./config')", "require('swagger-ui-express')", "require('../swagger')", "require('./routes')", "require('./routes/auth')", "require('./routes/notes')", "app.use(cors(...))", "app.set('trust proxy', true)", "app.get('/openapi.json', ...)", "swaggerUi.setup(dynamicSpec)", "app.use('/docs', swaggerUi.serve, ...)", "app.use(express.json(...))", "app.get('/', routes)", "app.use('/api/auth', authRoutes)", "app.use('/api/notes', notesRoutes)", "app.use('/api', ...)", "app.use('/api', ... for 404 handler)", "app.use((err, req, res, next) => ...)"], "search-terms": ["app.js", "OpenAPI specification endpoint", "Swagger UI setup", "CORS configuration", "Express route mounting", "Error handling middleware"], "state": 2, "file_id": 8, "knowledge_revision": 62, "git_revision": "f29ff5e6c3d2e0ac14df6bae359e04a8dae133ce", "revision_history": [{"22": "df9bd6e27820d7a6f7393054921df1d5956178ad"}, {"29": "df9bd6e27820d7a6f7393054921df1d5956178ad"}, {"60": "f29ff5e6c3d2e0ac14df6bae359e04a8dae133ce"}, {"62": "f29ff5e6c3d2e0ac14df6bae359e04a8dae133ce"}], "ctags": [{"_type": "tag", "name": "AnonymousFunction55f821590100", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162087/notes_backend/src/app.js", "pattern": "/^    origin: function (origin, callback) {$/", "language": "JavaScript", "kind": "function", "signature": "(origin, callback)"}, {"_type": "tag", "name": "allowedOrigins", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162087/notes_backend/src/app.js", "pattern": "/^const allowedOrigins = envOrigins.length ? envOrigins : defaultOrigins;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "apiRouter", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162087/notes_backend/src/app.js", "pattern": "/^const apiRouter = express.Router();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "app", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162087/notes_backend/src/app.js", "pattern": "/^const app = express();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "authRoutes", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162087/notes_backend/src/app.js", "pattern": "/^const authRoutes = require('.\\/routes\\/auth');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "cfg", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162087/notes_backend/src/app.js", "pattern": "/^const cfg = getConfig();$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "cors", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162087/notes_backend/src/app.js", "pattern": "/^const cors = require('cors');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "defaultOrigins", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162087/notes_backend/src/app.js", "pattern": "/^const defaultOrigins = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "envOrigins", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162087/notes_backend/src/app.js", "pattern": "/^const envOrigins = (process.env.CORS_ORIGIN || '')$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "express", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162087/notes_backend/src/app.js", "pattern": "/^const express = require('express');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "notesRoutes", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162087/notes_backend/src/app.js", "pattern": "/^const notesRoutes = require('.\\/routes\\/notes');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "routes", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162087/notes_backend/src/app.js", "pattern": "/^const routes = require('.\\/routes');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "swaggerSpec", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162087/notes_backend/src/app.js", "pattern": "/^const swaggerSpec = require('..\\/swagger');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "swaggerUi", "path": "/home/kavia/workspace/code-generation/personal-notes-organizer-162076-162087/notes_backend/src/app.js", "pattern": "/^const swaggerUi = require('swagger-ui-express');$/", "language": "JavaScript", "kind": "constant"}], "hash": "7a171f685ac6dd127d4d8592947070e7", "format-version": 4, "code-base-name": "notes_backend", "filename": "notes_backend/src/app.js"}